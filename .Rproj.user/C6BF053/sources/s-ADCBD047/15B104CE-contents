# Define Server logic for application that draws a hasse diagram ---------------
Hasse.env<-new.env()
# Hasse.env<-reactiveValues()

server <- shinyServer(function(input, output, session) {
  options(stringsAsFactors = F)
  cumpaste = function(x, .sep = " ")
    Reduce(function(x1, x2) paste(x1, x2, sep = .sep), x, accumulate = TRUE)

  # # include logic for each tab
  source(file.path("server", "tab-home.R"),    local = TRUE)$value
  source(file.path("server", "tab-dataset.R"), local = TRUE)$value
  source(file.path("server", "tab-anova.R"),   local = TRUE)$value
  source(file.path("server", "tab-examples.R"),local = TRUE)$value

  # start introjs when button is pressed with custom options and events
  observeEvent(input$help,
               introjs(session,
                       options = list("nextLabel"="Next step",
                                               "prevLabel"="Back",
                                               "skipLabel"="Finish"),
                       events = list("oncomplete"='alert("Now you try!")'))
  )
})


